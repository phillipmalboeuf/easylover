

<header class="header" data-section-id="{{ section.id }}" data-section-type="header-section" id="header" data-header>
  {% if section.settings.message %}
  <div class="alert header__alert hide_on_phone">
    {% if section.settings.message_link != blank %}
      <a href="{{ section.settings.message_link }}" class="alert__message">
        {{ section.settings.message_text }}
      </a>
    {% else %}
      <span class="alert__message">{{ section.settings.message_text }}</span>
    {% endif %}
  </div>
  {% endif %}

  <nav class="grid grid--middle" data-navigation>
    <div class="col col--4of12 hide_on_tablet_portrait">
      {% for link in linklists['shop-menu'].links %}
      {% if link.url == '/collections' %}

      <span class="show_overlay_on_hover nav__link">
        <a href="{{ link.url }}" class="nav__link{% if link.active %} nav__link--active{% endif %}">{{link.title}} {% include 'icon-triangle' %}</a>

        <div class="overlay overlay--top_left">
          <div class="overlay__container">
            {% for collection_link in linklists['collections-menu'].links %}
            <a href="{{ collection_link.url }}" class="nav__link nav__link--thick{% if collection_link.active %} nav__link--active{% endif %}">{{collection_link.title}}</a><br>
            {% endfor %}
          </div>
        </div>
      </span>

      {% else %}
      <a href="{{ link.url }}" class="nav__link{% if link.active %} nav__link--active{% endif %}">{{link.title}}</a>
      {% endif %}
      {% endfor %}
    </div>

    <div class="col col--4of12 tablet_portrait_only">
      {% for link in linklists['mobile-menu'].links %}
      {% unless link.active %}
      <a href="{{ link.url }}" class="nav__link{% if link.active %} nav__link--active{% endif %}">{{link.title}}</a>
      {% endunless %}
      {% endfor %}
    </div>

    <div class="col col--4of12 text_center">
      <a href="/">
        {% include 'icon-logo' %}
      </a>
    </div>

    <div class="col col--4of12 text_right">
      {% for link in linklists['content-menu'].links %}
      {% unless link.active %}
      <a href="{{ link.url }}" class="nav__link{% if link.active %} nav__link--active{% endif %} hide_on_tablet_portrait">{{link.title}}</a>
      {% endunless %}
      {% endfor %}

      <a href="/cart" class="nav__link{% if cart.item_count != 0 %} nav__link--active{% endif %}" data-toggle-cart>
        Cart (<span data-item-count>{{ cart.item_count }}</span>)
      </a>
    </div>
  </nav>
</header>



{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "checkbox",
      "id": "message",
      "label": "Show announcement",
      "default": false
    },
    {
      "type": "text",
      "id": "message_text",
      "label": "Announcement text",
      "default": "Announce something here"
    },
    {
      "type": "url",
      "id": "message_link",
      "label": "Announcement link",
      "info": "Optional"
    }
  ]
}
{% endschema %}
